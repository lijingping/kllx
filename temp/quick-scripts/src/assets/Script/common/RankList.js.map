{"version":3,"sources":["assets/Script/common/RankList.js"],"names":["module","exports","setScore","_score","success","fail","complete","wx","setUserCloudStorage","KVDataList","key","value","showFriendList","postMessage","rankType","showGroupList","shareTicket","showGameResultList","checkSurpassFriend","score","x","y","checkWillSurpass"],"mappings":";;;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB;AAGb;;;;;;;AAOAC,EAAAA,QAVa,oBAUJC,MAVI,EAUIC,OAVJ,EAUaC,IAVb,EAUmBC,QAVnB,EAU6B;AACtC,QAAI,OAAQC,EAAR,IAAe,WAAnB,EAAgC;AAC5B;AACAA,MAAAA,EAAE,CAACC,mBAAH,CAAuB;AACnBC,QAAAA,UAAU,EAAE,CAAC;AAAEC,UAAAA,GAAG,EAAE,OAAP;AAAgBC,UAAAA,KAAK,EAAER,MAAM,GAAG;AAAhC,SAAD,CADO;AAEnBC,QAAAA,OAAO,EAAEA,OAAO,IAAI,IAFD;AAGnBC,QAAAA,IAAI,EAAEA,IAAI,IAAI,IAHK;AAInBC,QAAAA,QAAQ,EAAEA,QAAQ,IAAI;AAJH,OAAvB,EAF4B,CAQ5B;AACH;AACJ,GArBY;;AAuBb;;;AAGAM,EAAAA,cA1Ba,4BA0BI;AACb,QAAI,OAAQL,EAAR,IAAe,WAAnB,EAAgC;AAC5BA,MAAAA,EAAE,CAACM,WAAH,CAAe;AACXC,QAAAA,QAAQ,EAAE;AADC,OAAf;AAGH;AACJ,GAhCY;;AAkCb;;;;AAIAC,EAAAA,aAtCa,yBAsCCC,WAtCD,EAsCc;AACvB,QAAI,OAAQT,EAAR,IAAe,WAAnB,EAAgC;AAC5BA,MAAAA,EAAE,CAACM,WAAH,CAAe;AACXG,QAAAA,WAAW,EAAEA,WADF;AAEXF,QAAAA,QAAQ,EAAE;AAFC,OAAf;AAIH;AACJ,GA7CY;;AA+Cb;;;AAGAG,EAAAA,kBAlDa,gCAkDQ;AACjB,QAAI,OAAQV,EAAR,IAAe,WAAnB,EAAgC;AAC5BA,MAAAA,EAAE,CAACM,WAAH,CAAe;AACXC,QAAAA,QAAQ,EAAE;AADC,OAAf;AAGH;AACJ,GAxDY;;AA0Db;;;;;;AAMAI,EAAAA,kBAhEa,8BAgEMC,KAhEN,EAgEaC,CAhEb,EAgEgBC,CAhEhB,EAgEmB;AAC5B,QAAI,OAAQd,EAAR,IAAe,WAAnB,EAAgC;AAC5BA,MAAAA,EAAE,CAACM,WAAH,CAAe;AACXC,QAAAA,QAAQ,EAAE,CADC;AAEXK,QAAAA,KAAK,EAAEA,KAFI;AAGXC,QAAAA,CAAC,EAAEA,CAAC,IAAI,CAHG;AAIXC,QAAAA,CAAC,EAAEA,CAAC,IAAI;AAJG,OAAf;AAMH;AACJ,GAzEY;AA4EbC,EAAAA,gBA5Ea,4BA4EIH,KA5EJ,EA4EWE,CA5EX,EA4Ec;AACvB,QAAI,OAAQd,EAAR,IAAe,WAAnB,EAAgC;AAC5BA,MAAAA,EAAE,CAACM,WAAH,CAAe;AACXC,QAAAA,QAAQ,EAAE,CADC;AAEXK,QAAAA,KAAK,EAAEA,KAFI;AAGXE,QAAAA,CAAC,EAAEA,CAAC,IAAI;AAHG,OAAf;AAKH;AACJ;AApFY,CAAjB","sourceRoot":"/","sourcesContent":["\n\nmodule.exports = {\n\n\n    /**\n     * \n     * @param {int} _score 设置游戏分数\n     * @param {*} success  成功回调\n     * @param {*} fail     失败回调\n     * @param {*} complete 完成回调\n     */\n    setScore(_score, success, fail, complete) {\n        if (typeof (wx) != \"undefined\") {\n            // console.log(\"_score=\",_score);\n            wx.setUserCloudStorage({\n                KVDataList: [{ key: \"score\", value: _score + \"\" }],\n                success: success || null,\n                fail: fail || null,\n                complete: complete || null,\n            });\n            // console.log(\"set score== end\");\n        }\n    },\n\n    /**\n     * 显示好友排行榜\n     */\n    showFriendList() {\n        if (typeof (wx) != \"undefined\") {\n            wx.postMessage({\n                rankType: 1,\n            })\n        }\n    },\n\n    /**\n     * 显示群排行\n     * @param {string} shareTicket 群排行分享许可证\n     */\n    showGroupList(shareTicket) {\n        if (typeof (wx) != \"undefined\") {\n            wx.postMessage({\n                shareTicket: shareTicket,\n                rankType: 0,\n            })\n        }\n    },\n\n    /**\n     * 游戏结束排行\n     */\n    showGameResultList() {\n        if (typeof (wx) != \"undefined\") {\n            wx.postMessage({\n                rankType: 2,\n            })\n        }\n    },\n\n    /**\n     * 检查是否超越好友 并显示\n     * @param {int} score 当前分数\n     * @param {Number} x  显示位置pos.x\n     * @param {Number} y  显示位置pos.y\n     */\n    checkSurpassFriend(score, x, y) {\n        if (typeof (wx) != \"undefined\") {\n            wx.postMessage({\n                rankType: 3,\n                score: score,\n                x: x || 0,\n                y: y || 0\n            });\n        }\n    },\n\n\n    checkWillSurpass(score, y) {\n        if (typeof (wx) != \"undefined\") {\n            wx.postMessage({\n                rankType: 4,\n                score: score,\n                y: y || 500\n            });\n        }\n    }\n}"]}