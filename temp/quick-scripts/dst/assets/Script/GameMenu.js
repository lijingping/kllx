
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/GameMenu.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5cb45NS+yZNLbHP815RF0Ab', 'GameMenu');
// Script/GameMenu.js

"use strict";

var Utils = require("Utils");

var ShareSdk = require("ShareSdk");

var RankList = require("RankList");

cc.Class({
  "extends": cc.Component,
  properties: {
    m_sp_logo: cc.Node,
    m_l_maingold: cc.Label,
    m_sp_off: cc.Node,
    m_spa_list: cc.SpriteAtlas,
    m_sp_mystepicon: cc.Sprite,
    m_l_mystepname: cc.Label,
    m_n_starlist: {
      type: cc.Node,
      "default": []
    },
    m_n_skinpanel: cc.Node,
    m_n_moregame: cc.Node
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    window.GAME_MENU = this;
    Utils.setDesignResolution();
  },
  start: function start() {
    var _this = this;

    // this.m_sp_logo.runAction(cc.repeatForever(cc.sequence(cc.moveBy(1, 0, 15), cc.moveBy(1, 0, -15))));
    EVENT_LISTENER.on(window.GAME_UPDATE_DATA, this.updateGold, this);
    this.m_l_maingold.string = window.INIT_GAME_SAVE_DATA.gold_num;
    this.showGameClubButton();
    this.updateMusicBtnSprite(window.MUSIC_SHOW_OFF);
    RankList.setScore(window.INIT_GAME_SAVE_DATA.top_score);

    if (typeof wx != "undefined") {
      wx.showShareMenu({
        withShareTicket: true
      });
      wx.onShareAppMessage(function () {
        return {
          title: "好玩又新奇，消磨时间好帮手",
          imageUrl: window.tempFileURL[1]
        };
      });
    }

    this.showAdBanner(true);

    if (!window.SHOWNEWYEAR && window.NEWYEAR) {
      Utils.loadRes("prefabs/happynewyear", cc.Prefab, function (obj) {
        var node = cc.instantiate(obj);
        node.zIndex = 1 << 10;
        node.parent = _this.node;
        window.SHOWNEWYEAR = true;
      });
    } else {
      Utils.playBgmMusic(window.BGM, 0.5);
    }

    this.initMyData();
    this.m_n_moregame.active = window.MOVEGAME;
    setInterval(function () {
      if (window.getdata) {
        window.Utils.setSaveData();
      }
    }, 6000);
  },
  playmuisc: function playmuisc() {
    Utils.playBgmMusic(window.BGM, 0.5);
  },
  initMyData: function initMyData() {
    var curlv = window.INIT_GAME_SAVE_DATA.top_level;
    var data = this.getMyStepData(curlv);

    if (data) {
      this.m_sp_mystepicon.spriteFrame = this.m_spa_list.getSpriteFrame(data.icon_path);
      this.m_l_mystepname.string = data.desc;

      for (var i = 0; i < this.m_n_starlist.length; i++) {
        this.m_n_starlist[i].active = i < data.star;
      }
    } else {
      this.m_sp_mystepicon.spriteFrame = this.m_spa_list.getSpriteFrame("stepicon6");
      this.m_l_mystepname.string = window.STEP_CONFIG[0].desc;

      for (var _i = 0; _i < this.m_n_starlist.length; _i++) {
        this.m_n_starlist[_i].active = _i < 3;
      }
    }

    this.m_n_skinpanel.getComponent("SkinPanel").initData();
  },
  getMyStepData: function getMyStepData(lv) {
    var index = Math.floor(lv / 10);

    if (index <= 0) {
      return null;
    } else {
      if (index > window.STEP_CONFIG.length) index = window.STEP_CONFIG.length;
      return window.STEP_CONFIG[index - 1];
    }
  },
  updateGold: function updateGold() {
    this.m_l_maingold.string = window.INIT_GAME_SAVE_DATA.gold_num;
  },
  onStartGame: function onStartGame() {
    Utils.SetSoundEffect(window.BUTTON_CLICK_MUSIC, false, 1);
    cc.director.loadScene(window.GAME_SCENE_NAME);
  },
  onCloseShare: function onCloseShare() {
    cc.director.loadScene(window.GAME_SCENE_NAME);
  },
  onShareStart: function onShareStart() {
    var self = this;
    Utils.SetSoundEffect(window.BUTTON_CLICK_MUSIC, false, 1);
    ShareSdk.shareAppMessage({
      title: "来助力我一起打怪兽吧",
      imageUrl: window.tempFileURL[1],
      success: function success(res) {
        cc.director.loadScene(window.GAME_SCENE_NAME);
      },
      fail: function fail(err) {},
      complate: function complate(msg) {}
    });
  },
  onOpenSkinPanel: function onOpenSkinPanel() {
    this.m_n_skinpanel.active = true;
  },
  onOpenStepRank: function onOpenStepRank() {
    Utils.SetSoundEffect(window.BUTTON_CLICK_MUSIC, false, 1);
    if (window.isWeChatPlatform) wx.showLoading({
      title: "加载中..."
    });
    cc.director.loadScene(window.STEP_SCENE_NAME, function () {
      if (window.isWeChatPlatform) wx.hideLoading();
    });
  },
  onMusicBtnClick: function onMusicBtnClick() {
    if (window.MUSIC_SHOW_OFF == 1) {
      window.MUSIC_SHOW_OFF = 0;
      Utils.stopBgmMusic();
      cc.sys.localStorage.setItem('music', '0');
    } else {
      window.MUSIC_SHOW_OFF = 1;
      Utils.playBgmMusic(window.BGM, 0.5);
      cc.sys.localStorage.setItem('music', '1');
    }

    this.updateMusicBtnSprite(window.MUSIC_SHOW_OFF);
  },
  updateMusicBtnSprite: function updateMusicBtnSprite(show_off) {
    if (show_off == 1) {
      this.m_sp_off.active = false;
    } else {
      this.m_sp_off.active = true;
    }
  },
  onShare: function onShare() {
    Utils.SetSoundEffect(window.BUTTON_CLICK_MUSIC, false, 1); // console.log(cc.url.raw("resources/common/sharepic.85663.png"));

    ShareSdk.shareAppMessage({
      title: "今年最好玩最刺激的六边形快乐连消游戏，快来尝试下",
      imageUrl: window.tempFileURL[1],
      success: function success(res) {
        console.log("res", res);
      },
      fail: function fail(err) {
        console.log("res-err");
      },
      complate: function complate(msg) {
        console.log("complate");
      }
    });
  },
  onMoreGame: function onMoreGame() {
    if (typeof wx != 'undefined' && wx.navigateToMiniProgram) {
      wx.navigateToMiniProgram({
        appId: "wx7109309214f4c86e",
        //target: "wx6ee9cae077851dfa",
        success: function success(res) {
          console.log('跳转成功'); // successs && successs(res);
        },
        fail: function fail(err) {
          console.log("跳转失败：", err); // faill && faill(err);
        },
        complete: function complete(res) {
          console.log('跳转完成'); // completee && completee(res);
        }
      });
    } else {
      wxShortCut.showModal("提示", "暂未开放");
    }
  },
  showGameClubButton: function showGameClubButton() {
    if (typeof wx != 'undefined') {
      if (!this.clubbutton) {
        this.clubbutton = wx.createGameClubButton({
          icon: 'light',
          style: {
            left: 10,
            top: 300,
            width: 40,
            height: 40
          }
        });
      }

      this.clubbutton.show();
    }
  },
  hideGameClubButton: function hideGameClubButton() {
    if (this.clubbutton) {
      this.clubbutton.hide();
    }
  },
  onDestroy: function onDestroy() {
    if (this.clubbutton) {
      this.clubbutton.destroy();
      this.clubbutton = null;
    }

    if (this.m_bannerad) {
      this.m_bannerad.destroy();
      this.m_bannerad = null;
    }

    EVENT_LISTENER.off(window.GAME_UPDATE_DATA, this);
    window.GAME_MENU = null;
  },
  showAdBanner: function showAdBanner(boo) {
    if (typeof wx == 'undefined') return;
    var Size = cc.winSize;
    var Widthnode = cc.find("Canvas/n_funnymap/n_bannerpos");
    var pos = this.node.convertToWorldSpace(Widthnode);

    if (Size.height / Size.width > 2) {
      //适配全面屏 适用于FIXHeight
      pos.y += (Size.height - 1920) / 2;
    }

    var system = wx.getSystemInfoSync();
    var adaptScaleH = system.screenHeight / Size.height;
    var PosY = (Size.height - pos.y) * adaptScaleH;
    var self = this;

    if (!boo) {
      if (this.m_bannerad) {
        this.m_bannerad.hide();
      }
    } else {
      if (this.m_bannerad) this.m_bannerad.show();
    }

    if (!this.m_bannerad && boo) {
      if (system.SDKVersion < '2.0.4') {
        wx.showToast({
          title: "微信版本过低，无法创建广告banner",
          icon: "none",
          image: "",
          duration: 0
        });
        setTimeout(function () {
          return wx.hideToast();
        }, 3000);
      } else {
        self.m_bannerad = wx.createBannerAd({
          adUnitId: 'adunit-9dd057b6b514245a',
          style: {
            left: 0,
            top: PosY,
            width: system.screenWidth
          }
        });
        self.m_bannerad.onResize(function (res1) {
          try {
            if (self.m_bannerad && self.m_bannerad.style) {
              self.m_bannerad.style.top = PosY;
              self.m_bannerad.style.height = res1.height;
            }
          } catch (error) {
            console.log("onResize-error", error);
          }
        });
        self.m_bannerad.onLoad(function () {
          console.log('banner 广告加载成功');
        });
        self.m_bannerad.show().then(function () {
          console.log("广告显示成功");
        })["catch"](function (err) {
          console.error("广告加载失败", err);
        });
        self.m_bannerad.onError(function (err) {
          console.error(err);
        });
      }
    }
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvR2FtZU1lbnUuanMiXSwibmFtZXMiOlsiVXRpbHMiLCJyZXF1aXJlIiwiU2hhcmVTZGsiLCJSYW5rTGlzdCIsImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwibV9zcF9sb2dvIiwiTm9kZSIsIm1fbF9tYWluZ29sZCIsIkxhYmVsIiwibV9zcF9vZmYiLCJtX3NwYV9saXN0IiwiU3ByaXRlQXRsYXMiLCJtX3NwX215c3RlcGljb24iLCJTcHJpdGUiLCJtX2xfbXlzdGVwbmFtZSIsIm1fbl9zdGFybGlzdCIsInR5cGUiLCJtX25fc2tpbnBhbmVsIiwibV9uX21vcmVnYW1lIiwib25Mb2FkIiwid2luZG93IiwiR0FNRV9NRU5VIiwic2V0RGVzaWduUmVzb2x1dGlvbiIsInN0YXJ0IiwiRVZFTlRfTElTVEVORVIiLCJvbiIsIkdBTUVfVVBEQVRFX0RBVEEiLCJ1cGRhdGVHb2xkIiwic3RyaW5nIiwiSU5JVF9HQU1FX1NBVkVfREFUQSIsImdvbGRfbnVtIiwic2hvd0dhbWVDbHViQnV0dG9uIiwidXBkYXRlTXVzaWNCdG5TcHJpdGUiLCJNVVNJQ19TSE9XX09GRiIsInNldFNjb3JlIiwidG9wX3Njb3JlIiwid3giLCJzaG93U2hhcmVNZW51Iiwid2l0aFNoYXJlVGlja2V0Iiwib25TaGFyZUFwcE1lc3NhZ2UiLCJ0aXRsZSIsImltYWdlVXJsIiwidGVtcEZpbGVVUkwiLCJzaG93QWRCYW5uZXIiLCJTSE9XTkVXWUVBUiIsIk5FV1lFQVIiLCJsb2FkUmVzIiwiUHJlZmFiIiwib2JqIiwibm9kZSIsImluc3RhbnRpYXRlIiwiekluZGV4IiwicGFyZW50IiwicGxheUJnbU11c2ljIiwiQkdNIiwiaW5pdE15RGF0YSIsImFjdGl2ZSIsIk1PVkVHQU1FIiwic2V0SW50ZXJ2YWwiLCJnZXRkYXRhIiwic2V0U2F2ZURhdGEiLCJwbGF5bXVpc2MiLCJjdXJsdiIsInRvcF9sZXZlbCIsImRhdGEiLCJnZXRNeVN0ZXBEYXRhIiwic3ByaXRlRnJhbWUiLCJnZXRTcHJpdGVGcmFtZSIsImljb25fcGF0aCIsImRlc2MiLCJpIiwibGVuZ3RoIiwic3RhciIsIlNURVBfQ09ORklHIiwiZ2V0Q29tcG9uZW50IiwiaW5pdERhdGEiLCJsdiIsImluZGV4IiwiTWF0aCIsImZsb29yIiwib25TdGFydEdhbWUiLCJTZXRTb3VuZEVmZmVjdCIsIkJVVFRPTl9DTElDS19NVVNJQyIsImRpcmVjdG9yIiwibG9hZFNjZW5lIiwiR0FNRV9TQ0VORV9OQU1FIiwib25DbG9zZVNoYXJlIiwib25TaGFyZVN0YXJ0Iiwic2VsZiIsInNoYXJlQXBwTWVzc2FnZSIsInN1Y2Nlc3MiLCJyZXMiLCJmYWlsIiwiZXJyIiwiY29tcGxhdGUiLCJtc2ciLCJvbk9wZW5Ta2luUGFuZWwiLCJvbk9wZW5TdGVwUmFuayIsImlzV2VDaGF0UGxhdGZvcm0iLCJzaG93TG9hZGluZyIsIlNURVBfU0NFTkVfTkFNRSIsImhpZGVMb2FkaW5nIiwib25NdXNpY0J0bkNsaWNrIiwic3RvcEJnbU11c2ljIiwic3lzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInNob3dfb2ZmIiwib25TaGFyZSIsImNvbnNvbGUiLCJsb2ciLCJvbk1vcmVHYW1lIiwibmF2aWdhdGVUb01pbmlQcm9ncmFtIiwiYXBwSWQiLCJjb21wbGV0ZSIsInd4U2hvcnRDdXQiLCJzaG93TW9kYWwiLCJjbHViYnV0dG9uIiwiY3JlYXRlR2FtZUNsdWJCdXR0b24iLCJpY29uIiwic3R5bGUiLCJsZWZ0IiwidG9wIiwid2lkdGgiLCJoZWlnaHQiLCJzaG93IiwiaGlkZUdhbWVDbHViQnV0dG9uIiwiaGlkZSIsIm9uRGVzdHJveSIsImRlc3Ryb3kiLCJtX2Jhbm5lcmFkIiwib2ZmIiwiYm9vIiwiU2l6ZSIsIndpblNpemUiLCJXaWR0aG5vZGUiLCJmaW5kIiwicG9zIiwiY29udmVydFRvV29ybGRTcGFjZSIsInkiLCJzeXN0ZW0iLCJnZXRTeXN0ZW1JbmZvU3luYyIsImFkYXB0U2NhbGVIIiwic2NyZWVuSGVpZ2h0IiwiUG9zWSIsIlNES1ZlcnNpb24iLCJzaG93VG9hc3QiLCJpbWFnZSIsImR1cmF0aW9uIiwic2V0VGltZW91dCIsImhpZGVUb2FzdCIsImNyZWF0ZUJhbm5lckFkIiwiYWRVbml0SWQiLCJzY3JlZW5XaWR0aCIsIm9uUmVzaXplIiwicmVzMSIsImVycm9yIiwidGhlbiIsIm9uRXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFuQjs7QUFDQSxJQUFJQyxRQUFRLEdBQUdELE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLElBQUlFLFFBQVEsR0FBR0YsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBQ0FHLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxTQUFTLEVBQUVKLEVBQUUsQ0FBQ0ssSUFETjtBQUVSQyxJQUFBQSxZQUFZLEVBQUVOLEVBQUUsQ0FBQ08sS0FGVDtBQUdSQyxJQUFBQSxRQUFRLEVBQUVSLEVBQUUsQ0FBQ0ssSUFITDtBQUlSSSxJQUFBQSxVQUFVLEVBQUVULEVBQUUsQ0FBQ1UsV0FKUDtBQUtSQyxJQUFBQSxlQUFlLEVBQUVYLEVBQUUsQ0FBQ1ksTUFMWjtBQU1SQyxJQUFBQSxjQUFjLEVBQUViLEVBQUUsQ0FBQ08sS0FOWDtBQU9STyxJQUFBQSxZQUFZLEVBQUU7QUFBRUMsTUFBQUEsSUFBSSxFQUFFZixFQUFFLENBQUNLLElBQVg7QUFBaUIsaUJBQVM7QUFBMUIsS0FQTjtBQVFSVyxJQUFBQSxhQUFhLEVBQUVoQixFQUFFLENBQUNLLElBUlY7QUFTUlksSUFBQUEsWUFBWSxFQUFFakIsRUFBRSxDQUFDSztBQVRULEdBSFA7QUFlTDtBQUVBYSxFQUFBQSxNQWpCSyxvQkFpQkk7QUFDTEMsSUFBQUEsTUFBTSxDQUFDQyxTQUFQLEdBQW1CLElBQW5CO0FBQ0F4QixJQUFBQSxLQUFLLENBQUN5QixtQkFBTjtBQUNILEdBcEJJO0FBc0JMQyxFQUFBQSxLQXRCSyxtQkFzQkc7QUFBQTs7QUFDSjtBQUNBQyxJQUFBQSxjQUFjLENBQUNDLEVBQWYsQ0FBa0JMLE1BQU0sQ0FBQ00sZ0JBQXpCLEVBQTJDLEtBQUtDLFVBQWhELEVBQTRELElBQTVEO0FBQ0EsU0FBS3BCLFlBQUwsQ0FBa0JxQixNQUFsQixHQUEyQlIsTUFBTSxDQUFDUyxtQkFBUCxDQUEyQkMsUUFBdEQ7QUFDQSxTQUFLQyxrQkFBTDtBQUVBLFNBQUtDLG9CQUFMLENBQTBCWixNQUFNLENBQUNhLGNBQWpDO0FBQ0FqQyxJQUFBQSxRQUFRLENBQUNrQyxRQUFULENBQWtCZCxNQUFNLENBQUNTLG1CQUFQLENBQTJCTSxTQUE3Qzs7QUFDQSxRQUFJLE9BQVFDLEVBQVIsSUFBZSxXQUFuQixFQUFnQztBQUM1QkEsTUFBQUEsRUFBRSxDQUFDQyxhQUFILENBQWlCO0FBQ2JDLFFBQUFBLGVBQWUsRUFBRTtBQURKLE9BQWpCO0FBR0FGLE1BQUFBLEVBQUUsQ0FBQ0csaUJBQUgsQ0FBcUIsWUFBTTtBQUN2QixlQUFPO0FBQ0hDLFVBQUFBLEtBQUssRUFBRSxlQURKO0FBRUhDLFVBQUFBLFFBQVEsRUFBRXJCLE1BQU0sQ0FBQ3NCLFdBQVAsQ0FBbUIsQ0FBbkI7QUFGUCxTQUFQO0FBSUgsT0FMRDtBQU1IOztBQUVELFNBQUtDLFlBQUwsQ0FBa0IsSUFBbEI7O0FBQ0EsUUFBSSxDQUFDdkIsTUFBTSxDQUFDd0IsV0FBUixJQUF1QnhCLE1BQU0sQ0FBQ3lCLE9BQWxDLEVBQTJDO0FBQ3ZDaEQsTUFBQUEsS0FBSyxDQUFDaUQsT0FBTixDQUFjLHNCQUFkLEVBQXNDN0MsRUFBRSxDQUFDOEMsTUFBekMsRUFBaUQsVUFBQ0MsR0FBRCxFQUFTO0FBQ3RELFlBQUlDLElBQUksR0FBR2hELEVBQUUsQ0FBQ2lELFdBQUgsQ0FBZUYsR0FBZixDQUFYO0FBQ0FDLFFBQUFBLElBQUksQ0FBQ0UsTUFBTCxHQUFjLEtBQUssRUFBbkI7QUFDQUYsUUFBQUEsSUFBSSxDQUFDRyxNQUFMLEdBQWMsS0FBSSxDQUFDSCxJQUFuQjtBQUNBN0IsUUFBQUEsTUFBTSxDQUFDd0IsV0FBUCxHQUFxQixJQUFyQjtBQUNILE9BTEQ7QUFNSCxLQVBELE1BT087QUFDSC9DLE1BQUFBLEtBQUssQ0FBQ3dELFlBQU4sQ0FBbUJqQyxNQUFNLENBQUNrQyxHQUExQixFQUErQixHQUEvQjtBQUNIOztBQUNELFNBQUtDLFVBQUw7QUFDQSxTQUFLckMsWUFBTCxDQUFrQnNDLE1BQWxCLEdBQTJCcEMsTUFBTSxDQUFDcUMsUUFBbEM7QUFFQUMsSUFBQUEsV0FBVyxDQUFDLFlBQUk7QUFDWixVQUFJdEMsTUFBTSxDQUFDdUMsT0FBWCxFQUFvQjtBQUNoQnZDLFFBQUFBLE1BQU0sQ0FBQ3ZCLEtBQVAsQ0FBYStELFdBQWI7QUFDSDtBQUNKLEtBSlUsRUFJUixJQUpRLENBQVg7QUFLSCxHQTdESTtBQStETEMsRUFBQUEsU0EvREssdUJBK0RPO0FBQ1JoRSxJQUFBQSxLQUFLLENBQUN3RCxZQUFOLENBQW1CakMsTUFBTSxDQUFDa0MsR0FBMUIsRUFBK0IsR0FBL0I7QUFDSCxHQWpFSTtBQW1FTEMsRUFBQUEsVUFuRUssd0JBbUVRO0FBQ1QsUUFBSU8sS0FBSyxHQUFHMUMsTUFBTSxDQUFDUyxtQkFBUCxDQUEyQmtDLFNBQXZDO0FBQ0EsUUFBSUMsSUFBSSxHQUFHLEtBQUtDLGFBQUwsQ0FBbUJILEtBQW5CLENBQVg7O0FBQ0EsUUFBSUUsSUFBSixFQUFVO0FBQ04sV0FBS3BELGVBQUwsQ0FBcUJzRCxXQUFyQixHQUFtQyxLQUFLeEQsVUFBTCxDQUFnQnlELGNBQWhCLENBQStCSCxJQUFJLENBQUNJLFNBQXBDLENBQW5DO0FBQ0EsV0FBS3RELGNBQUwsQ0FBb0JjLE1BQXBCLEdBQTZCb0MsSUFBSSxDQUFDSyxJQUFsQzs7QUFDQSxXQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS3ZELFlBQUwsQ0FBa0J3RCxNQUF0QyxFQUE4Q0QsQ0FBQyxFQUEvQyxFQUFtRDtBQUMvQyxhQUFLdkQsWUFBTCxDQUFrQnVELENBQWxCLEVBQXFCZCxNQUFyQixHQUE4QmMsQ0FBQyxHQUFHTixJQUFJLENBQUNRLElBQXZDO0FBQ0g7QUFDSixLQU5ELE1BTU87QUFDSCxXQUFLNUQsZUFBTCxDQUFxQnNELFdBQXJCLEdBQW1DLEtBQUt4RCxVQUFMLENBQWdCeUQsY0FBaEIsQ0FBK0IsV0FBL0IsQ0FBbkM7QUFDQSxXQUFLckQsY0FBTCxDQUFvQmMsTUFBcEIsR0FBNkJSLE1BQU0sQ0FBQ3FELFdBQVAsQ0FBbUIsQ0FBbkIsRUFBc0JKLElBQW5EOztBQUNBLFdBQUssSUFBSUMsRUFBQyxHQUFHLENBQWIsRUFBZ0JBLEVBQUMsR0FBRyxLQUFLdkQsWUFBTCxDQUFrQndELE1BQXRDLEVBQThDRCxFQUFDLEVBQS9DLEVBQW1EO0FBQy9DLGFBQUt2RCxZQUFMLENBQWtCdUQsRUFBbEIsRUFBcUJkLE1BQXJCLEdBQThCYyxFQUFDLEdBQUcsQ0FBbEM7QUFDSDtBQUNKOztBQUVELFNBQUtyRCxhQUFMLENBQW1CeUQsWUFBbkIsQ0FBZ0MsV0FBaEMsRUFBNkNDLFFBQTdDO0FBQ0gsR0FyRkk7QUF1RkxWLEVBQUFBLGFBdkZLLHlCQXVGU1csRUF2RlQsRUF1RmE7QUFDZCxRQUFJQyxLQUFLLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXSCxFQUFFLEdBQUcsRUFBaEIsQ0FBWjs7QUFDQSxRQUFJQyxLQUFLLElBQUksQ0FBYixFQUFnQjtBQUNaLGFBQU8sSUFBUDtBQUNILEtBRkQsTUFFTztBQUNILFVBQUlBLEtBQUssR0FBR3pELE1BQU0sQ0FBQ3FELFdBQVAsQ0FBbUJGLE1BQS9CLEVBQ0lNLEtBQUssR0FBR3pELE1BQU0sQ0FBQ3FELFdBQVAsQ0FBbUJGLE1BQTNCO0FBQ0osYUFBT25ELE1BQU0sQ0FBQ3FELFdBQVAsQ0FBbUJJLEtBQUssR0FBRyxDQUEzQixDQUFQO0FBQ0g7QUFDSixHQWhHSTtBQWtHTGxELEVBQUFBLFVBbEdLLHdCQWtHUTtBQUNULFNBQUtwQixZQUFMLENBQWtCcUIsTUFBbEIsR0FBMkJSLE1BQU0sQ0FBQ1MsbUJBQVAsQ0FBMkJDLFFBQXREO0FBQ0gsR0FwR0k7QUFzR0xrRCxFQUFBQSxXQXRHSyx5QkFzR1M7QUFDVm5GLElBQUFBLEtBQUssQ0FBQ29GLGNBQU4sQ0FBcUI3RCxNQUFNLENBQUM4RCxrQkFBNUIsRUFBZ0QsS0FBaEQsRUFBdUQsQ0FBdkQ7QUFDQWpGLElBQUFBLEVBQUUsQ0FBQ2tGLFFBQUgsQ0FBWUMsU0FBWixDQUFzQmhFLE1BQU0sQ0FBQ2lFLGVBQTdCO0FBQ0gsR0F6R0k7QUEyR0xDLEVBQUFBLFlBM0dLLDBCQTJHVTtBQUNYckYsSUFBQUEsRUFBRSxDQUFDa0YsUUFBSCxDQUFZQyxTQUFaLENBQXNCaEUsTUFBTSxDQUFDaUUsZUFBN0I7QUFDSCxHQTdHSTtBQStHTEUsRUFBQUEsWUEvR0ssMEJBK0dVO0FBQ1gsUUFBSUMsSUFBSSxHQUFHLElBQVg7QUFDQTNGLElBQUFBLEtBQUssQ0FBQ29GLGNBQU4sQ0FBcUI3RCxNQUFNLENBQUM4RCxrQkFBNUIsRUFBZ0QsS0FBaEQsRUFBdUQsQ0FBdkQ7QUFDQW5GLElBQUFBLFFBQVEsQ0FBQzBGLGVBQVQsQ0FBeUI7QUFDckJqRCxNQUFBQSxLQUFLLEVBQUUsWUFEYztBQUVyQkMsTUFBQUEsUUFBUSxFQUFFckIsTUFBTSxDQUFDc0IsV0FBUCxDQUFtQixDQUFuQixDQUZXO0FBR3JCZ0QsTUFBQUEsT0FBTyxFQUFFLGlCQUFBQyxHQUFHLEVBQUk7QUFDWjFGLFFBQUFBLEVBQUUsQ0FBQ2tGLFFBQUgsQ0FBWUMsU0FBWixDQUFzQmhFLE1BQU0sQ0FBQ2lFLGVBQTdCO0FBQ0gsT0FMb0I7QUFNckJPLE1BQUFBLElBQUksRUFBRSxjQUFBQyxHQUFHLEVBQUksQ0FFWixDQVJvQjtBQVNyQkMsTUFBQUEsUUFBUSxFQUFFLGtCQUFBQyxHQUFHLEVBQUksQ0FFaEI7QUFYb0IsS0FBekI7QUFhSCxHQS9ISTtBQWlJTEMsRUFBQUEsZUFqSUssNkJBaUlhO0FBQ2QsU0FBSy9FLGFBQUwsQ0FBbUJ1QyxNQUFuQixHQUE0QixJQUE1QjtBQUNILEdBbklJO0FBcUlMeUMsRUFBQUEsY0FySUssNEJBcUlZO0FBQ2JwRyxJQUFBQSxLQUFLLENBQUNvRixjQUFOLENBQXFCN0QsTUFBTSxDQUFDOEQsa0JBQTVCLEVBQWdELEtBQWhELEVBQXVELENBQXZEO0FBQ0EsUUFBSTlELE1BQU0sQ0FBQzhFLGdCQUFYLEVBQ0k5RCxFQUFFLENBQUMrRCxXQUFILENBQWU7QUFBRTNELE1BQUFBLEtBQUssRUFBRTtBQUFULEtBQWY7QUFDSnZDLElBQUFBLEVBQUUsQ0FBQ2tGLFFBQUgsQ0FBWUMsU0FBWixDQUFzQmhFLE1BQU0sQ0FBQ2dGLGVBQTdCLEVBQThDLFlBQU07QUFDaEQsVUFBSWhGLE1BQU0sQ0FBQzhFLGdCQUFYLEVBQ0k5RCxFQUFFLENBQUNpRSxXQUFIO0FBQ1AsS0FIRDtBQUlILEdBN0lJO0FBK0lMQyxFQUFBQSxlQS9JSyw2QkErSWE7QUFDZCxRQUFJbEYsTUFBTSxDQUFDYSxjQUFQLElBQXlCLENBQTdCLEVBQWdDO0FBQzVCYixNQUFBQSxNQUFNLENBQUNhLGNBQVAsR0FBd0IsQ0FBeEI7QUFDQXBDLE1BQUFBLEtBQUssQ0FBQzBHLFlBQU47QUFDQXRHLE1BQUFBLEVBQUUsQ0FBQ3VHLEdBQUgsQ0FBT0MsWUFBUCxDQUFvQkMsT0FBcEIsQ0FBNEIsT0FBNUIsRUFBcUMsR0FBckM7QUFDSCxLQUpELE1BS0s7QUFDRHRGLE1BQUFBLE1BQU0sQ0FBQ2EsY0FBUCxHQUF3QixDQUF4QjtBQUNBcEMsTUFBQUEsS0FBSyxDQUFDd0QsWUFBTixDQUFtQmpDLE1BQU0sQ0FBQ2tDLEdBQTFCLEVBQStCLEdBQS9CO0FBQ0FyRCxNQUFBQSxFQUFFLENBQUN1RyxHQUFILENBQU9DLFlBQVAsQ0FBb0JDLE9BQXBCLENBQTRCLE9BQTVCLEVBQXFDLEdBQXJDO0FBQ0g7O0FBQ0QsU0FBSzFFLG9CQUFMLENBQTBCWixNQUFNLENBQUNhLGNBQWpDO0FBQ0gsR0EzSkk7QUE4SkxELEVBQUFBLG9CQTlKSyxnQ0E4SmdCMkUsUUE5SmhCLEVBOEowQjtBQUMzQixRQUFJQSxRQUFRLElBQUksQ0FBaEIsRUFBbUI7QUFDZixXQUFLbEcsUUFBTCxDQUFjK0MsTUFBZCxHQUF1QixLQUF2QjtBQUNILEtBRkQsTUFFTztBQUNILFdBQUsvQyxRQUFMLENBQWMrQyxNQUFkLEdBQXVCLElBQXZCO0FBQ0g7QUFDSixHQXBLSTtBQXNLTG9ELEVBQUFBLE9BdEtLLHFCQXNLSztBQUNOL0csSUFBQUEsS0FBSyxDQUFDb0YsY0FBTixDQUFxQjdELE1BQU0sQ0FBQzhELGtCQUE1QixFQUFnRCxLQUFoRCxFQUF1RCxDQUF2RCxFQURNLENBRU47O0FBQ0FuRixJQUFBQSxRQUFRLENBQUMwRixlQUFULENBQXlCO0FBQ3JCakQsTUFBQUEsS0FBSyxFQUFFLDBCQURjO0FBRXJCQyxNQUFBQSxRQUFRLEVBQUVyQixNQUFNLENBQUNzQixXQUFQLENBQW1CLENBQW5CLENBRlc7QUFHckJnRCxNQUFBQSxPQUFPLEVBQUUsaUJBQUFDLEdBQUcsRUFBSTtBQUNaa0IsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksS0FBWixFQUFtQm5CLEdBQW5CO0FBQ0gsT0FMb0I7QUFNckJDLE1BQUFBLElBQUksRUFBRSxjQUFBQyxHQUFHLEVBQUk7QUFDVGdCLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFNBQVo7QUFDSCxPQVJvQjtBQVNyQmhCLE1BQUFBLFFBQVEsRUFBRSxrQkFBQUMsR0FBRyxFQUFJO0FBQ2JjLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVo7QUFDSDtBQVhvQixLQUF6QjtBQWFILEdBdExJO0FBd0xMQyxFQUFBQSxVQXhMSyx3QkF3TFE7QUFDVCxRQUFJLE9BQVEzRSxFQUFSLElBQWUsV0FBZixJQUE4QkEsRUFBRSxDQUFDNEUscUJBQXJDLEVBQTREO0FBQ3hENUUsTUFBQUEsRUFBRSxDQUFDNEUscUJBQUgsQ0FBeUI7QUFDckJDLFFBQUFBLEtBQUssRUFBRSxvQkFEYztBQUVyQjtBQUNBdkIsUUFBQUEsT0FBTyxFQUFFLGlCQUFBQyxHQUFHLEVBQUk7QUFDWmtCLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVosRUFEWSxDQUVaO0FBQ0gsU0FOb0I7QUFPckJsQixRQUFBQSxJQUFJLEVBQUUsY0FBQUMsR0FBRyxFQUFJO0FBQ1RnQixVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxPQUFaLEVBQXFCakIsR0FBckIsRUFEUyxDQUVUO0FBQ0gsU0FWb0I7QUFXckJxQixRQUFBQSxRQUFRLEVBQUUsa0JBQUF2QixHQUFHLEVBQUk7QUFDYmtCLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVosRUFEYSxDQUViO0FBQ0g7QUFkb0IsT0FBekI7QUFnQkgsS0FqQkQsTUFpQk87QUFDSEssTUFBQUEsVUFBVSxDQUFDQyxTQUFYLENBQXFCLElBQXJCLEVBQTJCLE1BQTNCO0FBQ0g7QUFDSixHQTdNSTtBQStNTHJGLEVBQUFBLGtCQS9NSyxnQ0ErTWdCO0FBQ2pCLFFBQUksT0FBUUssRUFBUixJQUFlLFdBQW5CLEVBQWdDO0FBQzVCLFVBQUksQ0FBQyxLQUFLaUYsVUFBVixFQUFzQjtBQUNsQixhQUFLQSxVQUFMLEdBQWtCakYsRUFBRSxDQUFDa0Ysb0JBQUgsQ0FBd0I7QUFDdENDLFVBQUFBLElBQUksRUFBRSxPQURnQztBQUV0Q0MsVUFBQUEsS0FBSyxFQUFFO0FBQ0hDLFlBQUFBLElBQUksRUFBRSxFQURIO0FBRUhDLFlBQUFBLEdBQUcsRUFBRSxHQUZGO0FBR0hDLFlBQUFBLEtBQUssRUFBRSxFQUhKO0FBSUhDLFlBQUFBLE1BQU0sRUFBRTtBQUpMO0FBRitCLFNBQXhCLENBQWxCO0FBU0g7O0FBQ0QsV0FBS1AsVUFBTCxDQUFnQlEsSUFBaEI7QUFDSDtBQUNKLEdBOU5JO0FBK05MQyxFQUFBQSxrQkEvTkssZ0NBK05nQjtBQUNqQixRQUFJLEtBQUtULFVBQVQsRUFBcUI7QUFDakIsV0FBS0EsVUFBTCxDQUFnQlUsSUFBaEI7QUFDSDtBQUNKLEdBbk9JO0FBcU9MQyxFQUFBQSxTQXJPSyx1QkFxT087QUFDUixRQUFJLEtBQUtYLFVBQVQsRUFBcUI7QUFDakIsV0FBS0EsVUFBTCxDQUFnQlksT0FBaEI7QUFDQSxXQUFLWixVQUFMLEdBQWtCLElBQWxCO0FBQ0g7O0FBQ0QsUUFBSSxLQUFLYSxVQUFULEVBQXFCO0FBQ2pCLFdBQUtBLFVBQUwsQ0FBZ0JELE9BQWhCO0FBQ0EsV0FBS0MsVUFBTCxHQUFrQixJQUFsQjtBQUNIOztBQUNEMUcsSUFBQUEsY0FBYyxDQUFDMkcsR0FBZixDQUFtQi9HLE1BQU0sQ0FBQ00sZ0JBQTFCLEVBQTRDLElBQTVDO0FBQ0FOLElBQUFBLE1BQU0sQ0FBQ0MsU0FBUCxHQUFtQixJQUFuQjtBQUNILEdBaFBJO0FBa1BMc0IsRUFBQUEsWUFsUEssd0JBa1BReUYsR0FsUFIsRUFrUGE7QUFDZCxRQUFJLE9BQVFoRyxFQUFSLElBQWUsV0FBbkIsRUFBZ0M7QUFDaEMsUUFBSWlHLElBQUksR0FBR3BJLEVBQUUsQ0FBQ3FJLE9BQWQ7QUFFQSxRQUFJQyxTQUFTLEdBQUd0SSxFQUFFLENBQUN1SSxJQUFILENBQVEsK0JBQVIsQ0FBaEI7QUFDQSxRQUFJQyxHQUFHLEdBQUcsS0FBS3hGLElBQUwsQ0FBVXlGLG1CQUFWLENBQThCSCxTQUE5QixDQUFWOztBQUVBLFFBQUlGLElBQUksQ0FBQ1QsTUFBTCxHQUFjUyxJQUFJLENBQUNWLEtBQW5CLEdBQTJCLENBQS9CLEVBQWtDO0FBQUM7QUFDL0JjLE1BQUFBLEdBQUcsQ0FBQ0UsQ0FBSixJQUFTLENBQUNOLElBQUksQ0FBQ1QsTUFBTCxHQUFjLElBQWYsSUFBdUIsQ0FBaEM7QUFDSDs7QUFFRCxRQUFJZ0IsTUFBTSxHQUFHeEcsRUFBRSxDQUFDeUcsaUJBQUgsRUFBYjtBQUVBLFFBQUlDLFdBQVcsR0FBR0YsTUFBTSxDQUFDRyxZQUFQLEdBQXNCVixJQUFJLENBQUNULE1BQTdDO0FBQ0EsUUFBSW9CLElBQUksR0FBSSxDQUFDWCxJQUFJLENBQUNULE1BQUwsR0FBY2EsR0FBRyxDQUFDRSxDQUFuQixJQUF3QkcsV0FBcEM7QUFFQSxRQUFJdEQsSUFBSSxHQUFHLElBQVg7O0FBQ0EsUUFBSSxDQUFDNEMsR0FBTCxFQUFVO0FBQ04sVUFBSSxLQUFLRixVQUFULEVBQXFCO0FBQ2pCLGFBQUtBLFVBQUwsQ0FBZ0JILElBQWhCO0FBQ0g7QUFDSixLQUpELE1BSU87QUFDSCxVQUFJLEtBQUtHLFVBQVQsRUFDSSxLQUFLQSxVQUFMLENBQWdCTCxJQUFoQjtBQUNQOztBQUNELFFBQUksQ0FBQyxLQUFLSyxVQUFOLElBQW9CRSxHQUF4QixFQUE2QjtBQUN6QixVQUFJUSxNQUFNLENBQUNLLFVBQVAsR0FBb0IsT0FBeEIsRUFBaUM7QUFDN0I3RyxRQUFBQSxFQUFFLENBQUM4RyxTQUFILENBQWE7QUFDVDFHLFVBQUFBLEtBQUssRUFBRSxxQkFERTtBQUVUK0UsVUFBQUEsSUFBSSxFQUFFLE1BRkc7QUFHVDRCLFVBQUFBLEtBQUssRUFBRSxFQUhFO0FBSVRDLFVBQUFBLFFBQVEsRUFBRTtBQUpELFNBQWI7QUFNQUMsUUFBQUEsVUFBVSxDQUFDO0FBQUEsaUJBQU1qSCxFQUFFLENBQUNrSCxTQUFILEVBQU47QUFBQSxTQUFELEVBQXVCLElBQXZCLENBQVY7QUFDSCxPQVJELE1BUU87QUFDSDlELFFBQUFBLElBQUksQ0FBQzBDLFVBQUwsR0FBa0I5RixFQUFFLENBQUNtSCxjQUFILENBQWtCO0FBQ2hDQyxVQUFBQSxRQUFRLEVBQUUseUJBRHNCO0FBRWhDaEMsVUFBQUEsS0FBSyxFQUFFO0FBQ0hDLFlBQUFBLElBQUksRUFBRSxDQURIO0FBRUhDLFlBQUFBLEdBQUcsRUFBRXNCLElBRkY7QUFHSHJCLFlBQUFBLEtBQUssRUFBRWlCLE1BQU0sQ0FBQ2E7QUFIWDtBQUZ5QixTQUFsQixDQUFsQjtBQVFBakUsUUFBQUEsSUFBSSxDQUFDMEMsVUFBTCxDQUFnQndCLFFBQWhCLENBQXlCLFVBQUNDLElBQUQsRUFBVTtBQUMvQixjQUFJO0FBQ0EsZ0JBQUluRSxJQUFJLENBQUMwQyxVQUFMLElBQW1CMUMsSUFBSSxDQUFDMEMsVUFBTCxDQUFnQlYsS0FBdkMsRUFBOEM7QUFFMUNoQyxjQUFBQSxJQUFJLENBQUMwQyxVQUFMLENBQWdCVixLQUFoQixDQUFzQkUsR0FBdEIsR0FBNEJzQixJQUE1QjtBQUNBeEQsY0FBQUEsSUFBSSxDQUFDMEMsVUFBTCxDQUFnQlYsS0FBaEIsQ0FBc0JJLE1BQXRCLEdBQStCK0IsSUFBSSxDQUFDL0IsTUFBcEM7QUFDSDtBQUNKLFdBTkQsQ0FNRSxPQUFPZ0MsS0FBUCxFQUFjO0FBQ1ovQyxZQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWixFQUE4QjhDLEtBQTlCO0FBQ0g7QUFDSixTQVZEO0FBV0FwRSxRQUFBQSxJQUFJLENBQUMwQyxVQUFMLENBQWdCL0csTUFBaEIsQ0FBdUIsWUFBTTtBQUN6QjBGLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7QUFFSCxTQUhEO0FBSUF0QixRQUFBQSxJQUFJLENBQUMwQyxVQUFMLENBQWdCTCxJQUFoQixHQUF1QmdDLElBQXZCLENBQTRCLFlBQU07QUFDOUJoRCxVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaO0FBQ0gsU0FGRCxXQUVTLFVBQUNqQixHQUFELEVBQVM7QUFDZGdCLFVBQUFBLE9BQU8sQ0FBQytDLEtBQVIsQ0FBYyxRQUFkLEVBQXdCL0QsR0FBeEI7QUFDSCxTQUpEO0FBS0FMLFFBQUFBLElBQUksQ0FBQzBDLFVBQUwsQ0FBZ0I0QixPQUFoQixDQUF3QixVQUFBakUsR0FBRyxFQUFJO0FBQzNCZ0IsVUFBQUEsT0FBTyxDQUFDK0MsS0FBUixDQUFjL0QsR0FBZDtBQUNILFNBRkQ7QUFJSDtBQUNKO0FBQ0o7QUF2VEksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFV0aWxzID0gcmVxdWlyZShcIlV0aWxzXCIpO1xudmFyIFNoYXJlU2RrID0gcmVxdWlyZShcIlNoYXJlU2RrXCIpO1xudmFyIFJhbmtMaXN0ID0gcmVxdWlyZShcIlJhbmtMaXN0XCIpO1xuY2MuQ2xhc3Moe1xuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcblxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgbV9zcF9sb2dvOiBjYy5Ob2RlLFxuICAgICAgICBtX2xfbWFpbmdvbGQ6IGNjLkxhYmVsLFxuICAgICAgICBtX3NwX29mZjogY2MuTm9kZSxcbiAgICAgICAgbV9zcGFfbGlzdDogY2MuU3ByaXRlQXRsYXMsXG4gICAgICAgIG1fc3BfbXlzdGVwaWNvbjogY2MuU3ByaXRlLFxuICAgICAgICBtX2xfbXlzdGVwbmFtZTogY2MuTGFiZWwsXG4gICAgICAgIG1fbl9zdGFybGlzdDogeyB0eXBlOiBjYy5Ob2RlLCBkZWZhdWx0OiBbXSB9LFxuICAgICAgICBtX25fc2tpbnBhbmVsOiBjYy5Ob2RlLFxuICAgICAgICBtX25fbW9yZWdhbWU6IGNjLk5vZGUsXG4gICAgfSxcblxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB3aW5kb3cuR0FNRV9NRU5VID0gdGhpcztcbiAgICAgICAgVXRpbHMuc2V0RGVzaWduUmVzb2x1dGlvbigpO1xuICAgIH0sXG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgLy8gdGhpcy5tX3NwX2xvZ28ucnVuQWN0aW9uKGNjLnJlcGVhdEZvcmV2ZXIoY2Muc2VxdWVuY2UoY2MubW92ZUJ5KDEsIDAsIDE1KSwgY2MubW92ZUJ5KDEsIDAsIC0xNSkpKSk7XG4gICAgICAgIEVWRU5UX0xJU1RFTkVSLm9uKHdpbmRvdy5HQU1FX1VQREFURV9EQVRBLCB0aGlzLnVwZGF0ZUdvbGQsIHRoaXMpO1xuICAgICAgICB0aGlzLm1fbF9tYWluZ29sZC5zdHJpbmcgPSB3aW5kb3cuSU5JVF9HQU1FX1NBVkVfREFUQS5nb2xkX251bTtcbiAgICAgICAgdGhpcy5zaG93R2FtZUNsdWJCdXR0b24oKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZU11c2ljQnRuU3ByaXRlKHdpbmRvdy5NVVNJQ19TSE9XX09GRik7XG4gICAgICAgIFJhbmtMaXN0LnNldFNjb3JlKHdpbmRvdy5JTklUX0dBTUVfU0FWRV9EQVRBLnRvcF9zY29yZSk7XG4gICAgICAgIGlmICh0eXBlb2YgKHd4KSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB3eC5zaG93U2hhcmVNZW51KHtcbiAgICAgICAgICAgICAgICB3aXRoU2hhcmVUaWNrZXQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHd4Lm9uU2hhcmVBcHBNZXNzYWdlKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCLlpb3njqnlj4jmlrDlpYfvvIzmtojno6jml7bpl7Tlpb3luK7miYtcIixcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IHdpbmRvdy50ZW1wRmlsZVVSTFsxXSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hvd0FkQmFubmVyKHRydWUpO1xuICAgICAgICBpZiAoIXdpbmRvdy5TSE9XTkVXWUVBUiAmJiB3aW5kb3cuTkVXWUVBUikge1xuICAgICAgICAgICAgVXRpbHMubG9hZFJlcyhcInByZWZhYnMvaGFwcHluZXd5ZWFyXCIsIGNjLlByZWZhYiwgKG9iaikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUob2JqKTtcbiAgICAgICAgICAgICAgICBub2RlLnpJbmRleCA9IDEgPDwgMTA7XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLm5vZGU7XG4gICAgICAgICAgICAgICAgd2luZG93LlNIT1dORVdZRUFSID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBVdGlscy5wbGF5QmdtTXVzaWMod2luZG93LkJHTSwgMC41KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRNeURhdGEoKTtcbiAgICAgICAgdGhpcy5tX25fbW9yZWdhbWUuYWN0aXZlID0gd2luZG93Lk1PVkVHQU1FO1xuICAgICAgICBcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCk9PntcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZ2V0ZGF0YSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5VdGlscy5zZXRTYXZlRGF0YSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCA2MDAwKTtcbiAgICB9LFxuXG4gICAgcGxheW11aXNjKCkge1xuICAgICAgICBVdGlscy5wbGF5QmdtTXVzaWMod2luZG93LkJHTSwgMC41KTtcbiAgICB9LFxuXG4gICAgaW5pdE15RGF0YSgpIHtcbiAgICAgICAgbGV0IGN1cmx2ID0gd2luZG93LklOSVRfR0FNRV9TQVZFX0RBVEEudG9wX2xldmVsO1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZ2V0TXlTdGVwRGF0YShjdXJsdik7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLm1fc3BfbXlzdGVwaWNvbi5zcHJpdGVGcmFtZSA9IHRoaXMubV9zcGFfbGlzdC5nZXRTcHJpdGVGcmFtZShkYXRhLmljb25fcGF0aCk7XG4gICAgICAgICAgICB0aGlzLm1fbF9teXN0ZXBuYW1lLnN0cmluZyA9IGRhdGEuZGVzYztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tX25fc3Rhcmxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fbl9zdGFybGlzdFtpXS5hY3RpdmUgPSBpIDwgZGF0YS5zdGFyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tX3NwX215c3RlcGljb24uc3ByaXRlRnJhbWUgPSB0aGlzLm1fc3BhX2xpc3QuZ2V0U3ByaXRlRnJhbWUoXCJzdGVwaWNvbjZcIik7XG4gICAgICAgICAgICB0aGlzLm1fbF9teXN0ZXBuYW1lLnN0cmluZyA9IHdpbmRvdy5TVEVQX0NPTkZJR1swXS5kZXNjO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1fbl9zdGFybGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMubV9uX3N0YXJsaXN0W2ldLmFjdGl2ZSA9IGkgPCAzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tX25fc2tpbnBhbmVsLmdldENvbXBvbmVudChcIlNraW5QYW5lbFwiKS5pbml0RGF0YSgpO1xuICAgIH0sXG5cbiAgICBnZXRNeVN0ZXBEYXRhKGx2KSB7XG4gICAgICAgIGxldCBpbmRleCA9IE1hdGguZmxvb3IobHYgLyAxMCk7XG4gICAgICAgIGlmIChpbmRleCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IHdpbmRvdy5TVEVQX0NPTkZJRy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgaW5kZXggPSB3aW5kb3cuU1RFUF9DT05GSUcubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5TVEVQX0NPTkZJR1tpbmRleCAtIDFdO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHVwZGF0ZUdvbGQoKSB7XG4gICAgICAgIHRoaXMubV9sX21haW5nb2xkLnN0cmluZyA9IHdpbmRvdy5JTklUX0dBTUVfU0FWRV9EQVRBLmdvbGRfbnVtO1xuICAgIH0sXG5cbiAgICBvblN0YXJ0R2FtZSgpIHtcbiAgICAgICAgVXRpbHMuU2V0U291bmRFZmZlY3Qod2luZG93LkJVVFRPTl9DTElDS19NVVNJQywgZmFsc2UsIDEpO1xuICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUod2luZG93LkdBTUVfU0NFTkVfTkFNRSk7XG4gICAgfSxcblxuICAgIG9uQ2xvc2VTaGFyZSgpIHtcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKHdpbmRvdy5HQU1FX1NDRU5FX05BTUUpO1xuICAgIH0sXG5cbiAgICBvblNoYXJlU3RhcnQoKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgVXRpbHMuU2V0U291bmRFZmZlY3Qod2luZG93LkJVVFRPTl9DTElDS19NVVNJQywgZmFsc2UsIDEpO1xuICAgICAgICBTaGFyZVNkay5zaGFyZUFwcE1lc3NhZ2Uoe1xuICAgICAgICAgICAgdGl0bGU6IFwi5p2l5Yqp5Yqb5oiR5LiA6LW35omT5oCq5YW95ZCnXCIsXG4gICAgICAgICAgICBpbWFnZVVybDogd2luZG93LnRlbXBGaWxlVVJMWzFdLFxuICAgICAgICAgICAgc3VjY2VzczogcmVzID0+IHtcbiAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUod2luZG93LkdBTUVfU0NFTkVfTkFNRSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbDogZXJyID0+IHtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsYXRlOiBtc2cgPT4ge1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgb25PcGVuU2tpblBhbmVsKCkge1xuICAgICAgICB0aGlzLm1fbl9za2lucGFuZWwuYWN0aXZlID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgb25PcGVuU3RlcFJhbmsoKSB7XG4gICAgICAgIFV0aWxzLlNldFNvdW5kRWZmZWN0KHdpbmRvdy5CVVRUT05fQ0xJQ0tfTVVTSUMsIGZhbHNlLCAxKTtcbiAgICAgICAgaWYgKHdpbmRvdy5pc1dlQ2hhdFBsYXRmb3JtKVxuICAgICAgICAgICAgd3guc2hvd0xvYWRpbmcoeyB0aXRsZTogXCLliqDovb3kuK0uLi5cIiB9KTtcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKHdpbmRvdy5TVEVQX1NDRU5FX05BTUUsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuaXNXZUNoYXRQbGF0Zm9ybSlcbiAgICAgICAgICAgICAgICB3eC5oaWRlTG9hZGluZygpO1xuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBvbk11c2ljQnRuQ2xpY2soKSB7XG4gICAgICAgIGlmICh3aW5kb3cuTVVTSUNfU0hPV19PRkYgPT0gMSkge1xuICAgICAgICAgICAgd2luZG93Lk1VU0lDX1NIT1dfT0ZGID0gMDtcbiAgICAgICAgICAgIFV0aWxzLnN0b3BCZ21NdXNpYygpO1xuICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtdXNpYycsICcwJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuTVVTSUNfU0hPV19PRkYgPSAxO1xuICAgICAgICAgICAgVXRpbHMucGxheUJnbU11c2ljKHdpbmRvdy5CR00sIDAuNSk7XG4gICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ211c2ljJywgJzEnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZU11c2ljQnRuU3ByaXRlKHdpbmRvdy5NVVNJQ19TSE9XX09GRik7XG4gICAgfSxcblxuXG4gICAgdXBkYXRlTXVzaWNCdG5TcHJpdGUoc2hvd19vZmYpIHtcbiAgICAgICAgaWYgKHNob3dfb2ZmID09IDEpIHtcbiAgICAgICAgICAgIHRoaXMubV9zcF9vZmYuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1fc3Bfb2ZmLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25TaGFyZSgpIHtcbiAgICAgICAgVXRpbHMuU2V0U291bmRFZmZlY3Qod2luZG93LkJVVFRPTl9DTElDS19NVVNJQywgZmFsc2UsIDEpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhjYy51cmwucmF3KFwicmVzb3VyY2VzL2NvbW1vbi9zaGFyZXBpYy44NTY2My5wbmdcIikpO1xuICAgICAgICBTaGFyZVNkay5zaGFyZUFwcE1lc3NhZ2Uoe1xuICAgICAgICAgICAgdGl0bGU6IFwi5LuK5bm05pyA5aW9546p5pyA5Yi65r+A55qE5YWt6L655b2i5b+r5LmQ6L+e5raI5ri45oiP77yM5b+r5p2l5bCd6K+V5LiLXCIsXG4gICAgICAgICAgICBpbWFnZVVybDogd2luZG93LnRlbXBGaWxlVVJMWzFdLFxuICAgICAgICAgICAgc3VjY2VzczogcmVzID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlc1wiLCByZXMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbDogZXJyID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlcy1lcnJcIilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGF0ZTogbXNnID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbXBsYXRlXCIpXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgb25Nb3JlR2FtZSgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiAod3gpICE9ICd1bmRlZmluZWQnICYmIHd4Lm5hdmlnYXRlVG9NaW5pUHJvZ3JhbSkge1xuICAgICAgICAgICAgd3gubmF2aWdhdGVUb01pbmlQcm9ncmFtKHtcbiAgICAgICAgICAgICAgICBhcHBJZDogXCJ3eDcxMDkzMDkyMTRmNGM4NmVcIixcbiAgICAgICAgICAgICAgICAvL3RhcmdldDogXCJ3eDZlZTljYWUwNzc4NTFkZmFcIixcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiByZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6Lez6L2s5oiQ5YqfJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN1Y2Nlc3NzICYmIHN1Y2Nlc3NzKHJlcyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsOiBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIui3s+i9rOWksei0pe+8mlwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBmYWlsbCAmJiBmYWlsbChlcnIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfot7PovazlrozmiJAnKVxuICAgICAgICAgICAgICAgICAgICAvLyBjb21wbGV0ZWUgJiYgY29tcGxldGVlKHJlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3eFNob3J0Q3V0LnNob3dNb2RhbChcIuaPkOekulwiLCBcIuaaguacquW8gOaUvlwiKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzaG93R2FtZUNsdWJCdXR0b24oKSB7XG4gICAgICAgIGlmICh0eXBlb2YgKHd4KSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNsdWJidXR0b24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsdWJidXR0b24gPSB3eC5jcmVhdGVHYW1lQ2x1YkJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICdsaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMzAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0MFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsdWJidXR0b24uc2hvdygpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoaWRlR2FtZUNsdWJCdXR0b24oKSB7XG4gICAgICAgIGlmICh0aGlzLmNsdWJidXR0b24pIHtcbiAgICAgICAgICAgIHRoaXMuY2x1YmJ1dHRvbi5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25EZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5jbHViYnV0dG9uKSB7XG4gICAgICAgICAgICB0aGlzLmNsdWJidXR0b24uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5jbHViYnV0dG9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tX2Jhbm5lcmFkKSB7XG4gICAgICAgICAgICB0aGlzLm1fYmFubmVyYWQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5tX2Jhbm5lcmFkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBFVkVOVF9MSVNURU5FUi5vZmYod2luZG93LkdBTUVfVVBEQVRFX0RBVEEsIHRoaXMpO1xuICAgICAgICB3aW5kb3cuR0FNRV9NRU5VID0gbnVsbDtcbiAgICB9LFxuXG4gICAgc2hvd0FkQmFubmVyKGJvbykge1xuICAgICAgICBpZiAodHlwZW9mICh3eCkgPT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICAgICAgbGV0IFNpemUgPSBjYy53aW5TaXplXG5cbiAgICAgICAgbGV0IFdpZHRobm9kZSA9IGNjLmZpbmQoXCJDYW52YXMvbl9mdW5ueW1hcC9uX2Jhbm5lcnBvc1wiKTtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMubm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlKFdpZHRobm9kZSk7XG5cbiAgICAgICAgaWYgKFNpemUuaGVpZ2h0IC8gU2l6ZS53aWR0aCA+IDIpIHsvL+mAgumFjeWFqOmdouWxjyDpgILnlKjkuo5GSVhIZWlnaHRcbiAgICAgICAgICAgIHBvcy55ICs9IChTaXplLmhlaWdodCAtIDE5MjApIC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzeXN0ZW0gPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuXG4gICAgICAgIGxldCBhZGFwdFNjYWxlSCA9IHN5c3RlbS5zY3JlZW5IZWlnaHQgLyBTaXplLmhlaWdodDtcbiAgICAgICAgdmFyIFBvc1kgPSAoKFNpemUuaGVpZ2h0IC0gcG9zLnkpICogYWRhcHRTY2FsZUgpO1xuXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKCFib28pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1fYmFubmVyYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1fYmFubmVyYWQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMubV9iYW5uZXJhZClcbiAgICAgICAgICAgICAgICB0aGlzLm1fYmFubmVyYWQuc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tX2Jhbm5lcmFkICYmIGJvbykge1xuICAgICAgICAgICAgaWYgKHN5c3RlbS5TREtWZXJzaW9uIDwgJzIuMC40Jykge1xuICAgICAgICAgICAgICAgIHd4LnNob3dUb2FzdCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuW+ruS/oeeJiOacrOi/h+S9ju+8jOaXoOazleWIm+W7uuW5v+WRimJhbm5lclwiLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gd3guaGlkZVRvYXN0KCksIDMwMDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLm1fYmFubmVyYWQgPSB3eC5jcmVhdGVCYW5uZXJBZCh7XG4gICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiAnYWR1bml0LTlkZDA1N2I2YjUxNDI0NWEnLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogUG9zWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBzeXN0ZW0uc2NyZWVuV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHNlbGYubV9iYW5uZXJhZC5vblJlc2l6ZSgocmVzMSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYubV9iYW5uZXJhZCAmJiBzZWxmLm1fYmFubmVyYWQuc3R5bGUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubV9iYW5uZXJhZC5zdHlsZS50b3AgPSBQb3NZO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubV9iYW5uZXJhZC5zdHlsZS5oZWlnaHQgPSByZXMxLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib25SZXNpemUtZXJyb3JcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2VsZi5tX2Jhbm5lcmFkLm9uTG9hZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdiYW5uZXIg5bm/5ZGK5Yqg6L295oiQ5YqfJylcblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgc2VsZi5tX2Jhbm5lcmFkLnNob3coKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlub/lkYrmmL7npLrmiJDlip9cIik7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5bm/5ZGK5Yqg6L295aSx6LSlXCIsIGVycik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBzZWxmLm1fYmFubmVyYWQub25FcnJvcihlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG4iXX0=